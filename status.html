<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ã‚µãƒ¼ãƒãƒ¼çŠ¶æ³ãƒ»æ´»å‹•å ±å‘Šï½œBAKENEKO GAMES</title>
  <meta name="description" content="BAKENEKO GAMES ã®ã‚µãƒ¼ãƒãƒ¼ç¨¼åƒçŠ¶æ³ãƒ»ç´¯è¨ˆãƒ—ãƒ¬ã‚¤æ•°ãƒ»ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ»æ´»å‹•å®Ÿç¸¾ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700;900&family=Share+Tech+Mono&family=Zen+Old+Mincho:wght@400;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="portal.css">
  <style>
    .status-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:16px;margin:20px 0 28px}
    .status-card{background:rgba(255,255,255,.04);border:1px solid rgba(255,215,0,.15);border-radius:12px;padding:18px 14px;text-align:center}
    .status-card .s-label{font-size:.78rem;color:rgba(232,232,240,.5);letter-spacing:.08em;display:block;margin-bottom:6px}
    .status-card .s-value{font-family:'Share Tech Mono',monospace;font-size:1.5rem;color:var(--gold);letter-spacing:.05em}
    .status-card .s-value.s-ok{color:#4ade80}
    .status-card .s-value.s-warn{color:#fbbf24}
    .status-card .s-value.s-err{color:#f87171}
    .status-card .s-sub{font-size:.72rem;color:rgba(232,232,240,.35);margin-top:4px;display:block}
    .status-ts{text-align:center;font-size:.75rem;color:rgba(232,232,240,.35);margin:10px 0 24px;font-family:'Share Tech Mono',monospace}
    .rank-row{display:flex;align-items:center;gap:10px;padding:8px 0;border-bottom:1px solid rgba(255,255,255,.06)}
    .rank-row .r-pos{font-family:'Share Tech Mono',monospace;font-size:.85rem;color:var(--gold);min-width:28px;text-align:right}
    .rank-row .r-name{flex:1;color:rgba(232,232,240,.85);font-size:.9rem}
    .rank-row .r-score{font-family:'Share Tech Mono',monospace;font-size:.9rem;color:rgba(232,232,240,.7)}
    .timeline-list{list-style:none;padding:0;margin:16px 0}
    .timeline-list li{position:relative;padding:0 0 20px 28px}
    .timeline-list li::before{content:'';position:absolute;left:8px;top:6px;width:8px;height:8px;border-radius:50%;background:var(--gold);box-shadow:0 0 6px rgba(255,215,0,.4)}
    .timeline-list li::after{content:'';position:absolute;left:11px;top:18px;width:2px;bottom:0;background:rgba(255,215,0,.12)}
    .timeline-list li:last-child::after{display:none}
    .timeline-list .t-date{font-family:'Share Tech Mono',monospace;font-size:.78rem;color:var(--gold);display:block;margin-bottom:2px}
    .timeline-list .t-text{font-size:.9rem;color:rgba(232,232,240,.8)}
  </style>
</head>
<body>

  <div id="progress-bar"></div>
  <div class="film-grain"></div>
  <div class="scanlines"></div>
  <div class="vignette"></div>

  <header class="portal-header" id="header">
    <a href="index.html" class="portal-logo">BAKENEKO GAMES</a>
    <nav class="portal-nav">
      <a href="index.html#games">ã‚²ãƒ¼ãƒ </a>
      <a href="index.html#support">çŒ«æ”¯æ´</a>
      <a href="support.html">ä»•çµ„ã¿</a>
      <a href="contact.html">ãŠå•ã„åˆã‚ã›</a>
    </nav>
  </header>

  <main class="portal-page">
    <section class="portal-section portal-section--page">
      <h1 class="page-title">ã‚µãƒ¼ãƒãƒ¼çŠ¶æ³ãƒ»æ´»å‹•å ±å‘Š</h1>

      <div class="page-body">
        <p class="page-lead">BAKENEKO GAMES ã®ã‚µãƒ¼ãƒ“ã‚¹ç¨¼åƒçŠ¶æ³ã¨ã€ã“ã‚Œã¾ã§ã®æ´»å‹•å®Ÿç¸¾ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚</p>

        <h2>ã‚µãƒ¼ãƒ“ã‚¹ç¨¼åƒçŠ¶æ³</h2>
        <div class="status-grid" id="status-grid">
          <div class="status-card">
            <span class="s-label">ãƒãƒ¼ã‚¿ãƒ«</span>
            <span class="s-value" id="st-portal">â€”</span>
          </div>
          <div class="status-card">
            <span class="s-label">ã‚²ãƒ¼ãƒ ã‚µãƒ¼ãƒãƒ¼</span>
            <span class="s-value" id="st-game">â€”</span>
          </div>
          <div class="status-card">
            <span class="s-label">ãƒ©ãƒ³ã‚­ãƒ³ã‚° API</span>
            <span class="s-value" id="st-api">â€”</span>
          </div>
        </div>
        <div class="status-ts" id="status-ts">æœ€çµ‚ç¢ºèª: â€”</div>

        <h2>ç´¯è¨ˆã‚¢ã‚¯ã‚»ã‚¹ãƒ»ãƒ—ãƒ¬ã‚¤çŠ¶æ³</h2>
        <div class="status-grid" id="stats-grid">
          <div class="status-card">
            <span class="s-label">ç´¯è¨ˆãƒ—ãƒ¬ã‚¤æ•°</span>
            <span class="s-value" id="st-plays">â€”</span>
          </div>
          <div class="status-card">
            <span class="s-label">ç´¯è¨ˆå¿œæ´å›æ•°</span>
            <span class="s-value" id="st-support">â€”</span>
          </div>
          <div class="status-card">
            <span class="s-label">æœ¬æ—¥ã®ãƒ—ãƒ¬ã‚¤</span>
            <span class="s-value" id="st-today-plays">â€”</span>
            <span class="s-sub" id="st-today-plays-sub"></span>
          </div>
          <div class="status-card">
            <span class="s-label">æœ¬æ—¥ã®å¿œæ´</span>
            <span class="s-value" id="st-today-support">â€”</span>
          </div>
        </div>

        <h2>ä¸–ç•Œãƒ©ãƒ³ã‚­ãƒ³ã‚° TOP 10</h2>
        <p style="font-size:.85rem;opacity:.55;margin-bottom:8px">ã“ã¯ã ã‚¸ãƒ£ãƒ³ãƒ— â€” é£›è·é›¢ãƒ©ãƒ³ã‚­ãƒ³ã‚°</p>
        <div id="ranking-top"></div>

        <h2>æ´»å‹•ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³</h2>
        <ul class="timeline-list">
          <li>
            <span class="t-date">2026.02</span>
            <span class="t-text">ã€Œã“ã¯ã ã‚¸ãƒ£ãƒ³ãƒ— ï½BAKENEKOãƒ‰ãƒªãƒ¼ãƒ ï½ã€æ­£å¼å…¬é–‹ã€‚ä¸–ç•Œãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ»åºƒå‘Šå¿œæ´ã‚·ã‚¹ãƒ†ãƒ ç¨¼åƒé–‹å§‹ã€‚</span>
          </li>
          <li>
            <span class="t-date">2026.02</span>
            <span class="t-text">ãƒãƒ¼ã‚¿ãƒ«ã‚µã‚¤ãƒˆ bakenekocafe.studio é–‹è¨­ã€‚About / ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ / åˆ©ç”¨è¦ç´„ / ãŠå•ã„åˆã‚ã› / ã‚µãƒãƒ¼ãƒˆå„ãƒšãƒ¼ã‚¸å…¬é–‹ã€‚</span>
          </li>
          <li>
            <span class="t-date">2026.02</span>
            <span class="t-text">ç¬¬2å¼¾ã€Œãªã‚ã“ãƒãƒ©ãƒ³ã‚¹ã€é–‹ç™ºé–‹å§‹ã€‚ç‰©ç†æ¼”ç®—ãƒ™ãƒ¼ã‚¹ã®ãƒãƒ©ãƒ³ã‚¹ã‚²ãƒ¼ãƒ ã€‚</span>
          </li>
          <li>
            <span class="t-date">2026.02</span>
            <span class="t-text">éŠã³æ–¹ã‚¬ã‚¤ãƒ‰ãƒ»æ¬¡å›ä½œç´¹ä»‹ãƒ»ã‚µãƒ¼ãƒãƒ¼çŠ¶æ³ãƒšãƒ¼ã‚¸è¿½åŠ ã€‚AdSense å¯©æŸ»æº–å‚™å®Œäº†ã€‚</span>
          </li>
        </ul>

        <h2>ã‚¤ãƒ³ãƒ•ãƒ©æ§‹æˆ</h2>
        <table class="about-structure-table">
          <tbody>
            <tr><td style="width:35%">ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°</td><td>Cloudflare Pagesï¼ˆé™çš„ã‚µã‚¤ãƒˆé…ä¿¡ï¼‰</td></tr>
            <tr><td>API ã‚µãƒ¼ãƒãƒ¼</td><td>Cloudflare Workersï¼ˆã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ï¼‰</td></tr>
            <tr><td>ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹</td><td>Cloudflare D1ï¼ˆãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒ»çµ±è¨ˆï¼‰</td></tr>
            <tr><td>ãƒ‰ãƒ¡ã‚¤ãƒ³</td><td>bakenekocafe.studioï¼ˆCloudflare DNSï¼‰</td></tr>
            <tr><td>CDN</td><td>Cloudflareï¼ˆå…¨ä¸–ç•Œã‚­ãƒ£ãƒƒã‚·ãƒ¥ï¼‰</td></tr>
            <tr><td>SSL</td><td>å…¨ãƒšãƒ¼ã‚¸ HTTPSï¼ˆCloudflare è‡ªå‹•è¨¼æ˜æ›¸ï¼‰</td></tr>
          </tbody>
        </table>
        <p>ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã¯ Cloudflare ã® Edge ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ä¸Šã§ç¨¼åƒã—ã¦ãŠã‚Šã€ä¸–ç•Œä¸­ã‹ã‚‰ä½ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚</p>
      </div>
    </section>

    <footer class="portal-footer">
      <p class="footer-ads-note">åºƒå‘Šã‚’è¡¨ç¤ºã—ã¦ã„ã¾ã™ã€‚è¦–è´ã¯ä»»æ„ã§ã€åˆ©ç”¨è€…ã¸ã®é‡‘éŠ­ãƒ»ãƒã‚¤ãƒ³ãƒˆç­‰ã®ä»˜ä¸ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚è©³ç´°ã¯<a href="support.html">åºƒå‘Šã¨ã‚µã‚¤ãƒˆã®ä»•çµ„ã¿</a>ãƒ»<a href="terms.html">åˆ©ç”¨è¦ç´„</a>ãƒ»<a href="privacy.html">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼</a>ã‚’ã”è¦§ãã ã•ã„ã€‚</p>
      <svg class="footer-mon" viewBox="0 0 100 100" fill="none">
        <circle cx="50" cy="50" r="47" stroke="rgba(255,215,0,0.8)" stroke-width="1.5"/>
        <circle cx="50" cy="50" r="36" stroke="rgba(255,215,0,0.8)" stroke-width="1"/>
        <circle cx="50" cy="50" r="20" stroke="rgba(255,215,0,0.8)" stroke-width="1.5"/>
        <line x1="50" y1="3" x2="50" y2="97" stroke="rgba(255,215,0,0.8)" stroke-width="1"/>
        <line x1="3" y1="50" x2="97" y2="50" stroke="rgba(255,215,0,0.8)" stroke-width="1"/>
      </svg>
      <span class="footer-cats">ğŸ¾ ğŸ± ğŸ¾ ğŸ± ğŸ¾ ğŸ± ğŸ¾</span>
      <nav class="footer-links">
        <a href="about.html">About</a>
        <a href="support.html">åºƒå‘Šã¨ã‚µã‚¤ãƒˆã®ä»•çµ„ã¿</a>
        <a href="terms.html">åˆ©ç”¨è¦ç´„</a>
        <a href="privacy.html">ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼</a>
        <a href="contact.html">ãŠå•ã„åˆã‚ã›</a>
      </nav>
      <div class="footer-copy">Â© BAKENEKO GAMES / ä¸€èˆ¬ç¤¾å›£æ³•äºº æ–°å®¿ç§Ÿç•Œ</div>
    </footer>
  </main>

  <script src="portal.js"></script>
  <script>
  (function(){
    var API = 'https://api.bakenekocafe.studio';

    function setText(id, v){ var el = document.getElementById(id); if(el) el.textContent = v; }
    function setClass(id, cls){ var el = document.getElementById(id); if(el){ el.className = 's-value ' + cls; } }

    function checkEndpoint(url){
      return fetch(url, {method:'HEAD', mode:'cors'}).then(function(r){ return r.ok; }).catch(function(){ return false; });
    }

    Promise.all([
      checkEndpoint('https://bakenekocafe.studio/').then(function(ok){ setText('st-portal', ok?'æ­£å¸¸':'ç•°å¸¸'); setClass('st-portal', ok?'s-ok':'s-err'); }),
      checkEndpoint('https://bakenekocafe.studio/game.html').then(function(ok){ setText('st-game', ok?'æ­£å¸¸':'ç•°å¸¸'); setClass('st-game', ok?'s-ok':'s-err'); }),
      fetch(API+'/api/public-stats?gameId=kohada').then(function(r){ return r.json(); }).then(function(d){
        setText('st-api','æ­£å¸¸'); setClass('st-api','s-ok');
        setText('st-plays', (d.totalPlays||0).toLocaleString());
        setText('st-support', (d.totalSupportCount||0).toLocaleString());
        setText('st-today-support', (d.todaySupportCount||0).toLocaleString());
        var tp = d.totalPv || 0;
        setText('st-today-plays', tp.toLocaleString());
      }).catch(function(){
        setText('st-api','ç•°å¸¸'); setClass('st-api','s-err');
      })
    ]).then(function(){
      var now = new Date();
      setText('status-ts', 'æœ€çµ‚ç¢ºèª: ' + now.getFullYear()+'-'
        +String(now.getMonth()+1).padStart(2,'0')+'-'
        +String(now.getDate()).padStart(2,'0')+' '
        +String(now.getHours()).padStart(2,'0')+':'
        +String(now.getMinutes()).padStart(2,'0')+':'
        +String(now.getSeconds()).padStart(2,'0'));
    });

    fetch(API+'/api/ranking/leaderboard?gameId=kohada&limit=10').then(function(r){ return r.json(); }).then(function(d){
      var wrap = document.getElementById('ranking-top');
      if(!wrap) return;
      var html = '';
      (d.entries||[]).forEach(function(e){
        var dt = '';
        if(e.submitted_at){
          var dd = new Date(e.submitted_at);
          dt = ' <span style="font-size:.75rem;opacity:.4">' + (dd.getMonth()+1)+'/'+dd.getDate() + '</span>';
        }
        html += '<div class="rank-row"><span class="r-pos">#'+e.rank+'</span><span class="r-name">'+escHtml(e.nickname||'åç„¡ã—')+'</span><span class="r-score">'+Number(e.score).toLocaleString()+'m'+dt+'</span></div>';
      });
      wrap.innerHTML = html || '<p style="opacity:.4">ãƒ‡ãƒ¼ã‚¿ãªã—</p>';
    }).catch(function(){
      var wrap = document.getElementById('ranking-top');
      if(wrap) wrap.innerHTML = '<p style="opacity:.4">å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸ</p>';
    });

    function escHtml(s){ var d=document.createElement('div'); d.textContent=s; return d.innerHTML; }
  })();
  </script>
</body>
</html>
